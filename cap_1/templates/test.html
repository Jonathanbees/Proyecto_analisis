{% extends 'template.html' %}
{% load static %}
{% block content %}

<head>
        <!-- Incluir BokehJS -->
        <!--
        <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.1.min.js"></script>
        <script src="https://cdn.bokeh.org/bokeh/release/bokeh-3.0.0.min.js" crossorigin="anonymous"></script>
        -->

        <script src="https://cdn.bokeh.org/bokeh/release/bokeh-3.4.0.min.js" crossorigin="anonymous"></script>
        
        <!-- Incluir el script de la gráfica -->
        <!--
        {{ script|safe }}
        -->
</head>

<div class="container-all">

    <div class="form">
        <form action="{% url 'test' %}" method="post">
            {% csrf_token %}
            <label for="exampleFormControlInput1" class="font-weight-bold">Función</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escribe la función" name="funcion">
            <label for="exampleFormControlInput1" class="font-weight-bold">Inicio del rango</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escriba el inicio del rango" name="a">
            <label for="exampleFormControlInput1" class="font-weight-bold">Final del rango</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escriba el final del rango" name="b">
            <label for="exampleFormControlInput1" class="font-weight-bold">Tolerancia</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escriba la tolerancia (valor máximo del Error)" name="tol">
            <label for="exampleFormControlInput1" class="font-weight-bold">Número de iteraciones</label>
            <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Escriba el numero máximo de iteraciones" name="niter">
            <br>
            <input type="submit" value="Submit" class="btn btn-danger">
        </form>
    </div>

    {{ div|safe }}
    {{ script|safe }}
    
</div>




<!-- JOVEN PILLE -->
<div class="graph">
    <img src="data:image/png;base64,{{img}}" style="width: 700px; height: 500px;">
</div>

<h3> Solución: {{solucion}} </h3>
<h3> Iteraciones: {{iteraciones}} </h3>
<h3> Mensaje: {{mensaje}} </h3>

<!-- JOVEN PILLE -->
{% for iteracion in tabla %}
<h3> {{iteracion.i}} {{iteracion.x}} {{iteracion.fx}} {{iteracion.err}} </h3>
{% endfor %}


{% endblock content %}